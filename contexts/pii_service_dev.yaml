name: aws:services:dev:cac1:pii:service
description: Plaform Context for Development AWS account
labels: ["autoattach:aws:services:dev:cac1:pii:service"]
variables:
  TF_VAR_resource: "pii"
  TF_VAR_application: "pii"
  TF_VAR_lambda_region: "ca-central-1"
  TF_VAR_lambda_timeout: 10
  TF_VAR_lambda_runtime: "python3.8"
  TF_VAR_lambda_memory: 256
  TF_VAR_key: "helloworld.zip"
  TF_VAR_bucket_name: "lambdasourcecode-dev-cac1-s3"
  TF_VAR_authorizer_type: "REQUEST"
  TF_VAR_stage_name: "dev"
  TF_VAR_auth_application: "pii"
  TF_VAR_auth_lambda_timeout: 10
  TF_VAR_auth_lambda_memory: 128
  TF_VAR_auth_key: "helloworld.zip"
  TF_VAR_auth_lambda_runtime: "python3.8"

  TF_VAR_vpc_id: "vpc-05205c703d82d50bc"
  TF_VAR_subnets: '["subnet-0ddb7248abe0d30be","subnet-0895f7016d1e4e30f"]'
  TF_VAR_desired_count: 3

  TF_VAR_container_image: "692805717546.dkr.ecr.ca-central-1.amazonaws.com/pii-dev-cac1-ecr:latest"
  TF_VAR_container_cpu: 256
  TF_VAR_container_memory: 512
  TF_VAR_container_port: 80

  TF_VAR_load_balancer_type: "application"
  TF_VAR_enable_deletion_protection: false
  TF_VAR_enable_cross_zone_load_balancing: true
  TF_VAR_target_group_port: 80
  TF_VAR_target_group_protocol: "HTTP"
  TF_VAR_health_check_path: "/"
  TF_VAR_health_check_interval: 30
  TF_VAR_health_check_timeout: 5
  TF_VAR_health_check_healthy_threshold: 2
  TF_VAR_health_check_unhealthy_threshold: 2
  TF_VAR_certificate_arn: "arn:aws:acm:ca-central-1:692805717546:certificate/6d876f9a-ca5f-4255-b025-a47f6ac34098"

  TF_VAR_network_mode: "awsvpc"
  TF_VAR_requires_compatibilities: '["FARGATE"]'
  TF_VAR_task_cpu: 256
  TF_VAR_task_memory: 512
  TF_VAR_assign_public_ip: true
  TF_VAR_internal: true